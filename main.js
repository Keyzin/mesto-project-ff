(()=>{"use strict";function e(e,t,n,o){var r=e.querySelector(".places__item").cloneNode(!0),c=r.querySelector(".card__image");return c.src=arguments.length<=4?void 0:arguments[4],r.querySelector(".card__title").textContent=arguments.length<=5?void 0:arguments[5],c.alt=arguments.length<=6?void 0:arguments[6],c.setAttribute("data-popup","popUpImage"),r.querySelector(".card__delete-button").addEventListener("click",(function(){return t(r)})),r.querySelector(".card__like-button").addEventListener("click",n),c.addEventListener("click",(function(){return o(r)})),r}function t(e){e.remove()}function n(e){e.target.classList.toggle("card__like-button_is-active")}function o(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",c)}function r(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",c)}function c(e){27===e.keyCode&&r(document.querySelector(".popup_is-opened"))}function l(e){e.target.classList.contains("popup_is-opened")&&r(e.target)}var a=document.querySelector("#card-template").content,i=document.querySelector(".places").querySelector(".places__list"),p=document.querySelector(".profile__edit-button"),s=document.querySelector(".profile__add-button"),d=document.querySelector(".profile__info"),u=d.querySelector(".profile__title"),m=d.querySelector(".profile__description"),_=document.forms["edit-profile"],y=document.forms["new-place"],f=document.querySelectorAll(".popup__close"),v=document.querySelectorAll(".popup"),k=document.querySelector(".popup_type_edit"),q=document.querySelector(".popup_type_new-card"),S=document.querySelector(".popup_type_image"),g=S.querySelector(".popup__image"),h=S.querySelector(".popup__caption");function L(e){i.prepend(e)}function E(e){var t=e.closest(".card"),n=t.querySelector(".card__image"),r=t.querySelector(".card__title");g.src=n.src,g.alt=n.alt,h.textContent=r.closest(".places__item").querySelector(".card__title").textContent,o(S)}[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg",alt:"Зеленые горы Архыз немного покрытые снегом"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg",alt:"Озеро посреди заснеженого леса"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg",alt:"Вечернее фото хрущевок, вид сверху"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg",alt:"ландшафт Камчатки на фоне вулкана"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg",alt:"Железная дорога посреди зеленого леса, вид сверху"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg",alt:"Заснеженый мыс на озере Байкал"}].forEach((function(o){L(e(a,t,n,E,o.link,o.name,o.alt))})),p.addEventListener("click",(function(){o(k),_.elements.name.value=u.textContent,_.elements.description.value=m.textContent})),s.addEventListener("click",(function(){o(q)})),_.addEventListener("submit",(function(e){e.preventDefault(),u.textContent=_.elements.name.value,m.textContent=_.elements.description.value,r(k)})),y.addEventListener("submit",(function(o){o.preventDefault(),L(e(a,t,n,E,y.elements.link.value,y.elements["place-name"].value,y.elements["place-name"].value)),r(q),y.reset()})),f.forEach((function(e){e.addEventListener("click",(function(e){r(e.target.closest(".popup"))}))})),v.forEach((function(e){return e.addEventListener("click",l)}))})();